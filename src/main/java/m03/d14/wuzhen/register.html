<!doctype html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>百度注册页面</title>
		<link href="css/reg.css" rel="stylesheet">
		<script src="js/jquery-1.12.4.js" type="text/javascript"></script>
		<script>
			$(function() {
				$("#user").blur(checkuser);
				$("#pwd").blur(checkpsw);
				$("#repwd").blur(checkconpsw);
				$("input[name='sex']").blur(checkxb);
				$("#email").blur(checke);
				$("#myform").submit(function() {
					var flag = true;
					if(!checkuser()) {
						flag = false;
					}
					if(!checkpsw()) {
						flag = false;
					}
					if(!checkconpsw()) {
						flag = false;
					}
					if(!checkxb()) {
						flag = false;
					}
					if(!checke()) {
						flag = false;
					}
					return flag;
				});
			});

			function checkuser() {
				var user = $("#user").val();
				var regCode = /[A-Za-z0-9_]{4,12}/;
				if(user == "" || user == null) {
					$("#userId").html("用户名不能为空");
					return false;
				} else if(regCode.test(user) == false) {
					$("#userId").html("用户名必须由字母、数字和下划线组成");
					return false;
				}
				return true;
			}

			function checkpsw() {
				var psw = $("#pwd").val();
				var regCode1 = /\w{6,12}/;
				if(psw == "" || psw == null) {
					$("#pwdId").html("密码不能为空");
					return false;
				} else if(regCode1.test(psw) == false) {
					$("#pwdId").html("密码长度为6-12字符");
					return false;
				}
				return true;
			}

			function checkconpsw() {
				var psw = $("#repwd").val();
				var p1 = $("#pwd").val();
				var p2 = $("#repwd").val();
				if(p1 != p2 || p2 == "" || p2 == null) {
					$("#repwdId").html("两次输入的密码不一致");
					return false;
				}
				return true;
			}

			function checkxb() {
				if($("input[name='sex']:checked").size() < 1) {
					$("#sexId").html("性别不能为空");
					return false;
				}
				return true;
			}

			function checke() {
				var email = $("#email").val();
				var regCode2 = /^\w+@\w+(\.[a-zA-Z]{2,3})$/;
				if(email == "" || email == null) {
					$("#emailId").html("电子邮件地址不能为空");
					return false;

				} else if(regCode2.test(email) == false) {
					$("#emailId").html("电子邮件地址必须包含'@'和'.'");
					return false;
				}
				return true;
			}
		</script>
	</head>

	<body>
		<div class="register">
			<div class="center"><img src="images/header1.jpg" /></div>
			<form action="success.html" method="post" id="myform">
				<dl>
					<dt>用户名：</dt>
					<dd><input id="user" type="text" class="inputs" />
						<div id="userId"></div>
					</dd>
				</dl>
				<dl>
					<dt>密码：</dt>
					<dd><input id="pwd" type="password" class="inputs" />
						<div id="pwdId"></div>
					</dd>
				</dl>
				<dl>
					<dt>确认密码：</dt>
					<dd><input id="repwd" type="password" class="inputs" />
						<div id="repwdId"></div>
					</dd>
				</dl>
				<dl>
					<dt>性别：</dt>
					<dd><input name="sex" type="radio" value="男" />男 <input name="sex" type="radio" value="女" />女
						<div id="sexId"></div>
					</dd>
				</dl>
				<dl>
					<dt>电子邮件：</dt>
					<dd><input id="email" type="text" class="inputs" />
						<div id="emailId"></div>
					</dd>
				</dl>
				<dl>
					<dt>出生日期：</dt>
					<dd>
						<select id="year">
							<script>
								for(var i = 1900; i <= 2015; i++) {
									document.write("<option value=" + i + ">" + i + "</option>");
								}
							</script>
						</select>年
						<select id="month">
							<script>
								for(var i = 1; i <= 12; i++) {
									document.write("<option value=" + i + ">" + i + "</option>");
								}
							</script>
						</select>月
						<select id="day">
							<script>
								for(var i = 1; i <= 31; i++) {
									document.write("<option value=" + i + ">" + i + "</option>");
								}
							</script>
						</select>日</dd>
				</dl>
				<dl>
					<dt>&nbsp;</dt>
					<dd><input name="sub" type="submit" value="注册" class="btn" /> <input name="cancel" type="reset" value="清除" class="btn" /></dd>
				</dl>
			</form>
		</div>
	</body>

</html>